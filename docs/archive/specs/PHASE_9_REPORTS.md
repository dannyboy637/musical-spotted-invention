# Phase 9: Scheduled Reports

> **Goal:** Weekly email digest to clients.
> **Branch:** `feature/phase-9-reports`

---

## Deliverables

### Backend
- [ ] `backend/modules/reports.py` - Report generation
- [ ] `backend/services/email.py` - Resend integration
- [ ] `backend/services/ai_narrative.py` - Claude API
- [ ] Scheduled weekly job

### Frontend (Operator)
- [ ] Report preview page
- [ ] Approval workflow
- [ ] Send manually option

---

## Report Contents

1. **KPIs Summary**
   - Revenue, transactions, avg check
   - % change vs last period

2. **Top Performers**
   - Top 5 items by revenue
   - Biggest gainers

3. **Attention Needed**
   - Items declining
   - Active alerts

4. **AI Narrative** (optional)
   - 2-3 paragraph summary
   - Generated by Claude API
   - Operator approves before send

---

## Flow

```
1. Weekly job generates report data
2. Claude API drafts narrative
3. Report saved as "pending approval"
4. Operator reviews in Control Hub
5. Operator approves → email sent
6. Or operator edits → then sends
```

---

## Acceptance Criteria

- [ ] Report generation works
- [ ] AI narrative is reasonable
- [ ] Preview shows formatted report
- [ ] Email sends successfully
- [ ] Operator can edit before send

---

*Phase 9 complete when all acceptance criteria checked.*
